# Use a Python base image
FROM python:3.10-slim

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy inference code and model loader
COPY inference.py model.py ./

# Set working directory
WORKDIR /opt/ml/model

# Model artifacts will be mounted here by SageMaker
ENV SAGEMAKER_MODEL_DIR=/opt/ml/model

# Set entrypoint
ENTRYPOINT ["python", "/opt/ml/model/inference.py"]
